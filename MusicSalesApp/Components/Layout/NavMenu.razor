@using MusicSalesApp.Common.Helpers
@inherits NavMenuModel

<SfAppBar ColorMode="AppBarColor.Light" CssClass="music-appbar">
    <SfButton CssClass="e-inherit menu-icon" IconCss="e-icons e-menu" OnClick="@ToggleMenu"></SfButton>
    <AppBarSpacer></AppBarSpacer>
    <div class="brand-text">MusicSalesApp</div>
    <AppBarSpacer></AppBarSpacer>
    <AuthorizeView>
        <Authorized>
            <SfButton CssClass="e-inherit cart-button" OnClick="@NavigateToCart">
                <span class="e-btn-icon e-icons e-shopping-cart"></span>
                @if (_cartCount > 0)
                {
                    <span class="cart-badge">@_cartCount</span>
                }
            </SfButton>
        </Authorized>
    </AuthorizeView>
</SfAppBar>

<SfSidebar @ref="_sidebar" 
           @bind-IsOpen="_isMenuOpen" 
           Width="280px" 
           Type="SidebarType.Over"
           Position="SidebarPosition.Left"
           CssClass="music-sidebar">
    <ChildContent>
        <div class="sidebar-content">
            <div class="sidebar-header">
                <h4>Menu</h4>
            </div>
            <SfMenu Items="@_menuItems" CssClass="sidebar-menu">
                <MenuFieldSettings IconCss="IconCss" Text="Text"></MenuFieldSettings>
                <MenuEvents TValue="NavMenuItem" ItemSelected="@OnMenuItemSelected"></MenuEvents>
            </SfMenu>
        </div>
    </ChildContent>
</SfSidebar>
