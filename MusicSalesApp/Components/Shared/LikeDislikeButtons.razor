@inherits LikeDislikeButtonsModel

<div class="like-dislike-container">
    <!-- Like/Dislike Actions (for authenticated users) or display (for all users) -->
    <AuthorizeView>
        <Authorized>
            <!-- Interactive buttons for authenticated users -->
            <div class="like-dislike-actions @(ShowOnlyLike || ShowOnlyDislike ? "single-action" : "")">
                @if (!ShowOnlyDislike)
                {
                    <SfButton CssClass="@GetLikeButtonClass()" 
                              OnClick="HandleLikeClick" 
                              title="@GetLikeButtonTitle()"
                              Disabled="_isProcessing">
                        @if (_userLikeStatus == true)
                        {
                            <!-- Filled thumbs up when liked -->
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="action-icon">
                                <path d="M1 21h4V9H1v12zm22-11c0-1.1-.9-2-2-2h-6.31l.95-4.57.03-.32c0-.41-.17-.79-.44-1.06L14.17 1 7.59 7.59C7.22 7.95 7 8.45 7 9v10c0 1.1.9 2 2 2h9c.83 0 1.54-.5 1.84-1.22l3.02-7.05c.09-.23.14-.47.14-.73v-2z"/>
                            </svg>
                        }
                        else
                        {
                            <!-- Outlined thumbs up when not liked -->
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="action-icon">
                                <path d="M9 21h9c.83 0 1.54-.5 1.84-1.22l3.02-7.05c.09-.23.14-.47.14-.73v-2c0-1.1-.9-2-2-2h-6.31l.95-4.57.03-.32c0-.41-.17-.79-.44-1.06L14.17 1 7.58 7.59C7.22 7.95 7 8.45 7 9v10c0 1.1.9 2 2 2zM9 9l4.34-4.34L12 10h9v2l-3 7H9V9zM1 9h4v12H1z"/>
                            </svg>
                        }
                        @if (!ShowOnlyLike && !ShowOnlyDislike)
                        {
                            <span class="count-text">@_likeCount</span>
                        }
                    </SfButton>
                }
                @if (!ShowOnlyLike)
                {
                    <SfButton CssClass="@GetDislikeButtonClass()" 
                              OnClick="HandleDislikeClick" 
                              title="@GetDislikeButtonTitle()"
                              Disabled="_isProcessing">
                        @if (_userLikeStatus == false)
                        {
                            <!-- Filled thumbs down when disliked -->
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="action-icon">
                                <path d="M15 3H6c-.83 0-1.54.5-1.84 1.22l-3.02 7.05c-.09.23-.14.47-.14.73v2c0 1.1.9 2 2 2h6.31l-.95 4.57-.03.32c0 .41.17.79.44 1.06L9.83 23l6.59-6.59c.36-.36.58-.86.58-1.41V5c0-1.1-.9-2-2-2zm4 0v12h4V3h-4z"/>
                            </svg>
                        }
                        else
                        {
                            <!-- Outlined thumbs down when not disliked -->
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="action-icon">
                                <path d="M15 3H6c-.83 0-1.54.5-1.84 1.22l-3.02 7.05c-.09.23-.14.47-.14.73v2c0 1.1.9 2 2 2h6.31l-.95 4.57-.03.32c0 .41.17.79.44 1.06L9.83 23l6.58-6.59c.37-.36.59-.86.59-1.41V5c0-1.1-.9-2-2-2zm0 12l-4.34 4.34L12 14H3v-2l3-7h9v10zm4-12h4v12h-4z"/>
                            </svg>
                        }
                        @if (!ShowOnlyLike && !ShowOnlyDislike)
                        {
                            <span class="count-text">@_dislikeCount</span>
                        }
                    </SfButton>
                }
            </div>
        </Authorized>
        <NotAuthorized>
            <!-- Display-only for non-authenticated users -->
            <div class="like-dislike-display @(ShowOnlyLike || ShowOnlyDislike ? "single-action" : "")">
                @if (!ShowOnlyDislike)
                {
                    <div class="like-display">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="display-icon">
                            <path d="M9 21h9c.83 0 1.54-.5 1.84-1.22l3.02-7.05c.09-.23.14-.47.14-.73v-2c0-1.1-.9-2-2-2h-6.31l.95-4.57.03-.32c0-.41-.17-.79-.44-1.06L14.17 1 7.58 7.59C7.22 7.95 7 8.45 7 9v10c0 1.1.9 2 2 2zM9 9l4.34-4.34L12 10h9v2l-3 7H9V9zM1 9h4v12H1z"/>
                        </svg>
                        @if (!ShowOnlyLike && !ShowOnlyDislike)
                        {
                            <span class="count-text">@_likeCount</span>
                        }
                    </div>
                }
                @if (!ShowOnlyLike)
                {
                    <div class="dislike-display">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="display-icon">
                            <path d="M15 3H6c-.83 0-1.54.5-1.84 1.22l-3.02 7.05c-.09.23-.14.47-.14.73v2c0 1.1.9 2 2 2h6.31l-.95 4.57-.03.32c0 .41.17.79.44 1.06L9.83 23l6.58-6.59c.37-.36.59-.86.59-1.41V5c0-1.1-.9-2-2-2zm0 12l-4.34 4.34L12 14H3v-2l3-7h9v10zm4-12h4v12h-4z"/>
                        </svg>
                        @if (!ShowOnlyLike && !ShowOnlyDislike)
                        {
                            <span class="count-text">@_dislikeCount</span>
                        }
                    </div>
                }
            </div>
        </NotAuthorized>
    </AuthorizeView>
</div>
